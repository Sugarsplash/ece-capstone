


DIM last
DIM count
DIM state
count = 0
last = 0
state = 0

' Digital input
GpioSetFunc(FLOW_DATA,1,0)

WHILE 1
 state = GPIOread(FLOW_DATA)
 IF state==1 THEN
  IF last==0 THEN
   count = count + 1
   last = 1
   PRINT "COUNT " ;count; "\n"
  ENDIF
 ELSE
  last = 0
 ENDIF
ENDWHILE

PRINT "\nFinished\n"
